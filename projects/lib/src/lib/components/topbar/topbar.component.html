<div
  class="layout_topbar flex items-center"
  [ngStyle]="{ height: themeService.layoutConfig.topbarHeight + 'px' }"
>
  <!-- Collapseble sidebar button -->
  <div *ngIf="themeService.layoutConfig.showSidebar">
    <div *ngIf="!isMobile" class="flex">
      <button
        class="ml-[-1.25rem] mr-2"
        (click)="toggleSidebarClick()"
        [ngClass]="iconSwitch ? '' : ''"
      >
        <i
          [ngClass]="iconSwitch ? 'pi pi-chevron-right' : 'pi pi-chevron-left'"
        ></i>
      </button>
    </div>
  </div>

  <div class="flex-1"><ng-content></ng-content></div>
  <!-- Right Section with Help and Dark Mode Buttons -->
  <div class="ml-2 flex flex-row gap-2">
    <button
      class="btn btn-topbar"
      (click)="toggleHelpCard()"
      *ngIf="themeService.layoutConfig.helpCard"
    >
      <i class="pi pi-info-circle"></i>
    </button>

    <button
      class="btn btn-topbar"
      (click)="themeService.toggleTheme()"
      *ngIf="themeService.layoutConfig.showDarkModeToggle"
    >
      <i class="pi pi-sun" *ngIf="themeService.theme === 'dark'"></i>
      <i class="pi pi-moon" *ngIf="themeService.theme === 'light'"></i>
    </button>
  </div>
</div>

<p-dialog
  *ngIf="themeService.layoutConfig.helpCard"
  [header]="themeService.layoutConfig.helpCard.title"
  [(visible)]="showHelpCard"
  [modal]="true"
  [style]="{ width: '50rem' }"
  [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }"
  [draggable]="false"
>
  <help-card></help-card>
</p-dialog>
